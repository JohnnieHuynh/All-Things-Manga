<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>

  <!-- MY CSS -->
  <link href="css/style.css" rel="stylesheet" type="text/css" />

  <!-- CSS BOOT -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">

  <!-- jQuery and JS bundle w/ Popper.js -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx" crossorigin="anonymous"></script>

</head>
<body class="p">
  <h1 class="jumbotron"></h1>
  <div class="placeholder">
    <div class="card">
    <form action="/normalUserUpdateProfile">
    Username: <input type="text" name="username" value="<%=rows[0].username%>">
    <br><br>

    Password: <input type="text" name="password" value="<%=rows[0].password%>">
    <br><br>
    
    First Name: <input type="text" name="firstName" value="<%=rows[0].firstName%>">
    <br><br>

    State: 
    <select id="stateBox" type="text" name="state">
      <option value="<%=rows[0].state%>"><%=rows[0].state%></option>
    </select>
    <p id="stateList"></p>

    ZIP Code: <input id="zipBox" type="text" name="zipCode" onchange="updateZip();" value="<%=rows[0].zipCode%>"> <span id="zipFeedback"></span>
    <br>

    <!-- Not Needed
    City: <span id="city"></span> 
    <br>
    -->

    Gender: 
    <input type="radio" id="male" name="gender" value="M" <%= (rows[0].gender == 'M')?"checked": ""%>>
    <label for="male">Male</label>

    <input type="radio" id="female" name="gender" value="F" <%= (rows[0].gender == 'F')?"checked": ""%>>
    <label for="female">Female</label>
    <br>


    <br><br>
    <button name"sumbitUpdateUser">Update User</button>
    <br><br>

    <input type="hidden" name="userID" value="<%=rows[0].userID%>">

    </form>

    <div class="placeholder">
      <form action="/normalUserMenu">
        <button>Back</button>
      </form>
    </div>

    <% if (userUpdated) {%>
    <h3> User Updated <h3>
    <% } %>
  </div>
  </div>

  <script src="javascript/normalUserUpdateProfile.js"> </script>
  <!--
  <script>
    addStates();

    //Get ZIPCODE when entered
    window.updateZip = function() {
      //URLS for ZIPs
      let zipURL = "https://cst336.herokuapp.com/projects/api/cityInfoAPI.php?zip=";

      //Get User Input ZIP
      let userZip = $("#zipBox").val();

      //Combine Strings
      let newURL = zipURL.concat(userZip);

      //Fetch Data
      $.getJSON(newURL, function(data) {

        //Assign Data to var
        let zipCity = data.city;

        //Display City
        document.getElementById("city").innerHTML = zipCity;

        //If no ZIP is found
        if (data.zip == null) {
          //Display Not Found Msg
          document.getElementById("zipFeedback").innerHTML = "ZIP not found"

          //Display Empty City
          document.getElementById("city").innerHTML = "";
        }

      })
    }

    //Add States to Dropdown Bar
    function addStates() {
      var stateURL = "https://cst336.herokuapp.com/projects/api/state_abbrAPI.php";

      $.getJSON(stateURL, function(data) {
        //Get Size of JSON Arr
        let len = data.length;

        //Get Reference
        let selState = document.getElementById("stateBox");

        //Fill Options
        for (var b = 0; b < len; b++) {
        //Create Option
        var opt = document.createElement('option');
        var currentState = data[b].state;

        opt.appendChild(document.createTextNode(currentState));

        //Set Value for each
        opt.value = currentState;

        //Add to Select
        selState.appendChild(opt);

        } 
      })
    }

  </script>
  -->
  
</body>
</html>